# Skill Definition Schema
# Skills can be Markdown or YAML files

schema_version: "1.0"

# Markdown skills (like your existing ones)
markdown_format:
  description: >
    Markdown skills use a simple structure with headers.
    This is the preferred format for human-readable skills.

  required_sections:
    - "# SKILL: {name}"      # Title with skill name
    - "## Use When"          # Conditions for applying this skill
    - "## Rules" or "## Checklist" or "## Process"  # What to do

  optional_sections:
    - "## Output Format"     # Expected output structure
    - "## Escalation Triggers"  # When to escalate
    - "## Tools Strategy"    # Recommended tools

  example: |
    # SKILL: Example Skill

    ## Use When
    - Condition A
    - Condition B

    ## Rules
    - Rule 1
    - Rule 2

    ## Output Format
    - Output item

# YAML skills (for more structured definitions)
yaml_format:
  description: >
    YAML skills provide more structure and metadata.
    Use for skills that need machine-readable configuration.

  required_fields:
    - name
    - description
    - use_when
    - rules

  optional_fields:
    - output_format
    - escalation_triggers
    - tools
    - examples
    - related_skills

  example:
    name: "Example Skill"
    description: "Does example things"
    use_when:
      - "Condition A"
      - "Condition B"
    rules:
      - "Rule 1"
      - "Rule 2"
    output_format:
      - "Output item"

# Skill categories
categories:
  core:
    description: "Always-available foundational skills"
    examples:
      - deep_researcher
      - planning_and_scoping
      - requirements_clarification

  quality:
    description: "Quality assurance and verification skills"
    examples:
      - security_review
      - test_strategy
      - code_review_and_refactor_integrity
      - reliability_and_failure_modes
      - dependency_and_version_verification

  domain:
    description: "Project-specific or specialized skills"
    examples:
      - sound_design
      - documentation_handoff

# Skill precedence (from Constitution)
precedence:
  description: >
    When skills conflict, resolve in this order:
    1. Safety/Security skills
    2. Correctness/Verification skills
    3. Maintainability skills
    4. Speed/Convenience skills
